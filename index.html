<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outlier Cleaner - Telemetry Data Processing</title>
    <link rel="stylesheet" href="css/telemetry.css">
    <!-- Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
</head>
<body>
    <div class="crt-overlay"></div>
    <div class="main-container">
        <!-- Header -->
        <header class="telemetry-header">
            <div class="header-decoration left"></div>
            <h1 class="main-title">
                <span class="title-prefix">–û–¢–ö-001</span>
                <span class="title-divider">///</span>
                <span class="title-main">–°–ò–°–¢–ï–ú–ê –û–ß–ò–°–¢–ö–ò –î–ê–ù–ù–´–•</span>
            </h1>
            <div class="header-decoration right"></div>
        </header>

        <!-- Main Content Grid -->
        <div class="content-grid">
            <!-- Left Panel: Control Panel -->
            <section class="control-panel panel">
                <div class="panel-header">
                    <span class="panel-id">–ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø</span>
                    <span class="panel-status">–ì–û–¢–û–í</span>
                </div>

                <!-- File Loading Section -->
                <div class="control-section">
                    <h2 class="section-title">1. –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–•</h2>
                    <div class="input-group">
                        <label for="fileInput" class="input-label">
                            <span class="label-text">–í—ã–±–æ—Ä —Ñ–∞–π–ª–∞ –¥–∞–Ω–Ω—ã—Ö:</span>
                            <span class="label-desc">ASCII —Ñ–æ—Ä–º–∞—Ç, —Å—Ç–æ–ª–±—Ü—ã: –≤—Ä–µ–º—è, —Å–∏–≥–Ω–∞–ª—ã...</span>
                        </label>
                        <div class="file-input-wrapper">
                            <input type="file" id="fileInput" multiple accept=".txt,.dat,.csv,.asc" class="file-input">
                            <button type="button" class="file-button" onclick="document.getElementById('fileInput').click()">
                                <span class="button-icon">üìÅ</span>
                                <span class="button-text">–û–¢–ö–†–´–¢–¨ –§–ê–ô–õ</span>
                            </button>
                            <div id="fileCount" class="file-count">–í—ã–±—Ä–∞–Ω–æ —Ñ–∞–π–ª–æ–≤: 0</div>
                        </div>
                    </div>
                    <div id="selectedFiles" class="selected-files-list"></div>
                </div>

                <!-- Advanced Settings Toggle -->
                <div class="control-section">
                    <div class="settings-toggle">
                        <label for="advancedToggle" class="toggle-label">
                            <input type="checkbox" id="advancedToggle" class="toggle-checkbox">
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">–û–¢–ö–†–´–¢–¨ –ö–ê–ü–û–¢ (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)</span>
                        </label>
                        <span class="toggle-desc">–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞</span>
                    </div>
                </div>

                <!-- Advanced Parameters (Hidden by default) -->
                <div id="advancedSettings" class="advanced-settings hidden">
                    <h2 class="section-title">–ü–ê–†–ê–ú–ï–¢–†–´ –ê–õ–ì–û–†–ò–¢–ú–ê</h2>

                    <!-- Window Width Slider -->
                    <div class="slider-group">
                        <label class="slider-label">
                            <span class="slider-name">–®–∏—Ä–∏–Ω–∞ –æ–∫–Ω–∞</span>
                            <span class="slider-desc">–†–∞–∑–º–µ—Ä —Å–∫–æ–ª—å–∑—è—â–µ–≥–æ –æ–∫–Ω–∞ (1-100)</span>
                        </label>
                        <div class="slider-control">
                            <input type="range" id="windowWidth" min="1" max="100" value="40" class="slider">
                            <div class="slider-value">
                                <span id="windowWidthValue" class="value-display">40</span>
                                <span class="value-unit">–µ–¥.</span>
                            </div>
                        </div>
                    </div>

                    <!-- Threshold Slider -->
                    <div class="slider-group">
                        <label class="slider-label">
                            <span class="slider-name">–ü–æ—Ä–æ–≥–æ–≤—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç</span>
                            <span class="slider-desc">–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è (0.1-2.0)</span>
                        </label>
                        <div class="slider-control">
                            <input type="range" id="threshold" min="0.1" max="2.0" step="0.1" value="1.4" class="slider">
                            <div class="slider-value">
                                <span id="thresholdValue" class="value-display">1.4</span>
                            </div>
                        </div>
                    </div>

                    <!-- Matrix Size Slider -->
                    <div class="slider-group">
                        <label class="slider-label">
                            <span class="slider-name">–†–∞–∑–º–µ—Ä –º–∞—Ç—Ä–∏—Ü—ã –Ω–∞–≤–æ–¥–∫–∏</span>
                            <span class="slider-desc">–†–∞–∑–º–µ—Ä —Å–µ—Ç–∫–∏ –ø–æ–∏—Å–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (10-50)</span>
                        </label>
                        <div class="slider-control">
                            <input type="range" id="matrixSize" min="10" max="50" value="16" class="slider">
                            <div class="slider-value">
                                <span id="matrixSizeValue" class="value-display">16</span>
                                <span class="value-unit">√ó16</span>
                            </div>
                        </div>
                    </div>

                    <!-- Relative Size Slider -->
                    <div class="slider-group">
                        <label class="slider-label">
                            <span class="slider-name">–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä 2 –º–∞—Ç—Ä–∏—Ü—ã</span>
                            <span class="slider-desc">–®–∞–≥ –≥—Ä—É–±–æ–≥–æ –ø–æ–∏—Å–∫–∞ (1-9)</span>
                        </label>
                        <div class="slider-control">
                            <input type="range" id="relativeSize" min="1" max="9" value="4" class="slider">
                            <div class="slider-value">
                                <span id="relativeSizeValue" class="value-display">4</span>
                            </div>
                        </div>
                    </div>

                    <!-- Optimization Section -->
                    <div class="optimization-section">
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="useChunks" checked class="checkbox">
                                <span class="checkbox-text">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —á–∞–Ω–∫–∏</span>
                                <span class="checkbox-desc">–£—Å–∫–æ—Ä—è–µ—Ç –∞–≤—Ç–æ–ø–æ–¥–±–æ—Ä –≤ 5-10 —Ä–∞–∑</span>
                            </label>
                        </div>

                        <div class="slider-group">
                            <label class="slider-label">
                                <span class="slider-name">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö —á–∞–Ω–∫–æ–≤</span>
                                <span class="slider-desc">–ß–∞–Ω–∫=25 —Ç–æ—á–µ–∫ (1-5)</span>
                            </label>
                            <div class="slider-control">
                                <input type="range" id="numChunks" min="1" max="5" value="3" class="slider">
                                <div class="slider-value">
                                    <span id="numChunksValue" class="value-display">3</span>
                                    <span class="value-unit">—à—Ç.</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Fill Method Dropdown -->
                    <div class="dropdown-group">
                        <label class="dropdown-label">
                            <span class="dropdown-name">–ú–µ—Ç–æ–¥ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã–±—Ä–æ—Å–æ–≤</span>
                            <span class="dropdown-desc">–°–ø–æ—Å–æ–± –∑–∞–º–µ—â–µ–Ω–∏—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –∞–Ω–æ–º–∞–ª–∏–π</span>
                        </label>
                        <select id="fillMethod" class="dropdown">
                            <option value="extreme">‚Üó‚àû –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞)</option>
                            <option value="center">–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–º–µ–¥–∏–∞–Ω–∞/—Å—Ä–µ–¥–Ω–µ–µ)</option>
                            <option value="clip">–ü–æ—Ä–æ–≥–æ–≤–∞—è –æ–±—Ä–µ–∑–∫–∞</option>
                            <option value="previous">–ü—Ä–µ–¥—ã–¥—É—â–µ–µ –≤–µ—Ä–Ω–æ–µ</option>
                            <option value="next">–°–ª–µ–¥—É—é—â–µ–µ –≤–µ—Ä–Ω–æ–µ</option>
                            <option value="nearest" selected>–ë–ª–∏–∂–∞–π—à–µ–µ –≤–µ—Ä–Ω–æ–µ</option>
                            <option value="linear">–õ–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è</option>
                            <option value="spline">–°–ø–ª–∞–π–Ω-–∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è</option>
                            <option value="pchip">–°–ø–ª–∞–π–Ω¬≤ (PCHIP)</option>
                            <option value="makima">–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ê–∫–∏–º—ã</option>
                        </select>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="control-section">
                    <h2 class="section-title">2. –û–ü–ï–†–ê–¶–ò–ò</h2>
                    <div class="button-grid">
                        <button id="loadBtn" class="action-button" disabled>
                            <span class="button-number">1.</span>
                            <span class="button-label">–ó–ê–ì–†–£–ó–ò–¢–¨</span>
                            <span class="button-desc">–ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –¥–∞–Ω–Ω—ã—Ö</span>
                        </button>

                        <button id="tuneBtn" class="action-button" disabled>
                            <span class="button-number">2.</span>
                            <span class="button-label">–ù–ê–í–ï–°–¢–¨–°–Ø</span>
                            <span class="button-desc">–ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</span>
                        </button>

                        <button id="cleanBtn" class="action-button" disabled>
                            <span class="button-number">3.</span>
                            <span class="button-label">–û–ß–ò–°–¢–ò–¢–¨</span>
                            <span class="button-desc">–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é</span>
                        </button>

                        <button id="saveBtn" class="action-button" disabled>
                            <span class="button-number">4.</span>
                            <span class="button-label">–°–û–•–†–ê–ù–ò–¢–¨</span>
                            <span class="button-desc">–≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</span>
                        </button>
                    </div>
                </div>

                <!-- Save Options -->
                <div class="control-section">
                    <h2 class="section-title">3. –ü–ê–†–ê–ú–ï–¢–†–´ –°–û–•–†–ê–ù–ï–ù–ò–Ø</h2>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="saveRestored" checked class="checkbox">
                            <span class="checkbox-custom"></span>
                            <span class="checkbox-text">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</span>
                        </label>
                        <span class="checkbox-desc">–í–∫–ª—é—á–∏—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è</span>
                    </div>
                    <div class="checkbox-group">
                        <label class="checkbox-label" id="validityFlagWrapper">
                            <input type="checkbox" id="addValidityFlag" checked class="checkbox">
                            <span class="checkbox-custom"></span>
                            <span class="checkbox-text">–î–æ–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–º –∏—Å—Ç–∏–Ω–Ω–æ—Å—Ç–∏</span>
                        </label>
                        <span class="checkbox-desc">–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–æ–ª–±–µ—Ü —Å —Ñ–ª–∞–≥–æ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ (0/1)</span>
                    </div>
                </div>

                <!-- Progress Section -->
                <div class="control-section">
                    <h2 class="section-title">4. –•–û–î –ü–†–û–¶–ï–°–°–ê</h2>
                    <div class="gauge-container">
                        <svg class="gauge" viewBox="0 0 180 100">
                            <defs>
                                <linearGradient id="gaugeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#00ff88"/>
                                    <stop offset="50%" style="stop-color:#ffff00"/>
                                    <stop offset="100%" style="stop-color:#ff4444"/>
                                </linearGradient>
                            </defs>
                            <!-- Background arc -->
                            <path d="M 10 90 A 80 80 0 0 1 170 90" fill="none" stroke="#003322" stroke-width="20"/>
                            <!-- Progress arc -->
                            <path id="progressArc" d="M 10 90 A 80 80 0 0 1 170 90" fill="none"
                                  stroke="url(#gaugeGradient)" stroke-width="20"
                                  stroke-dasharray="251.2" stroke-dashoffset="251.2"
                                  stroke-linecap="round"/>
                            <!-- Center text -->
                            <text x="90" y="75" text-anchor="middle" class="gauge-text-main"
                                  id="progressText">0%</text>
                        </svg>
                    </div>
                </div>

                <!-- Log Section -->
                <div class="control-section log-section">
                    <h2 class="section-title">5. –ñ–£–†–ù–ê–õ –û–ü–ï–†–ê–¶–ò–ô</h2>
                    <div id="logArea" class="log-area">
                        <div class="log-entry log-info">
                            <span class="log-time">--:--:--</span>
                            <span class="log-message">–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ. –ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è!</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Right Panel: Visualization -->
            <section class="plot-panel panel">
                <div class="panel-header">
                    <span class="panel-id">–ü–ê–ù–ï–õ–¨ –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–ò</span>
                    <span class="panel-status">–û–ù–õ–ê–ô–ù</span>
                </div>

                <!-- Tab Navigation -->
                <div class="tab-nav">
                    <button class="tab-button active" data-tab="data">
                        <span class="tab-icon">üìä</span>
                        <span class="tab-text">–î–ê–ù–ù–´–ï</span>
                    </button>
                    <button class="tab-button" data-tab="heatmap">
                        <span class="tab-icon">üå°Ô∏è</span>
                        <span class="tab-text">–ö–ê–†–¢–ê –ü–ê–†–ê–ú–ï–¢–†–û–í</span>
                    </button>
                </div>

                <!-- Tab Content -->
                <div class="tab-content">
                    <!-- Data Plot Tab -->
                    <div id="dataTab" class="tab-pane active">
                        <div class="chart-container">
                            <div class="chart-wrapper">
                                <canvas id="dataChart"></canvas>
                            </div>
                            <div id="noDataMessage" class="no-data-message">
                                <span class="no-data-icon">üì≠</span>
                                <span class="no-data-text">–ù–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</span>
                                <span class="no-data-sub">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã</span>
                            </div>
                        </div>
                    </div>

                    <!-- Heatmap Tab -->
                    <div id="heatmapTab" class="tab-pane">
                        <div class="heatmap-container">
                            <div class="chart-wrapper">
                                <canvas id="heatmapCanvas"></canvas>
                            </div>
                            <div id="noHeatmapMessage" class="no-data-message">
                                <span class="no-data-icon">üå°Ô∏è</span>
                                <span class="no-data-text">–ö–∞—Ä—Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞</span>
                                <span class="no-data-sub">–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∞–≤—Ç–æ–ø–æ–¥–±–æ—Ä –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Metrics Display -->
                <div class="metrics-panel">
                    <h2 class="section-title">–ú–ï–¢–†–ò–ö–ò –ö–ê–ß–ï–°–¢–í–ê</h2>
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <span class="metric-name">STDF</span>
                            <span class="metric-desc">–ì–ª–∞–¥–∫–æ—Å—Ç—å</span>
                            <span id="metricSTDF" class="metric-value">--</span>
                        </div>
                        <div class="metric-card">
                            <span class="metric-name">DF</span>
                            <span class="metric-desc">–î–æ–ª—è —É–¥–∞–ª—ë–Ω–Ω—ã—Ö</span>
                            <span id="metricDF" class="metric-value">--</span>
                        </div>
                        <div class="metric-card">
                            <span class="metric-name">ASNR</span>
                            <span class="metric-desc">–°/–® (–¥–ë)</span>
                            <span id="metricASNR" class="metric-value">--</span>
                        </div>
                        <div class="metric-card">
                            <span class="metric-name">RMSE</span>
                            <span class="metric-desc">–°–ö–û</span>
                            <span id="metricRMSE" class="metric-value">--</span>
                        </div>
                        <div class="metric-card">
                            <span class="metric-name">R¬≤</span>
                            <span class="metric-desc">–î–µ—Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—è</span>
                            <span id="metricRSquared" class="metric-value">--</span>
                        </div>
                        <div class="metric-card">
                            <span class="metric-name">R –ü–∏—Ä—Å–æ–Ω–∞</span>
                            <span class="metric-desc">–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è</span>
                            <span id="metricPearson" class="metric-value">--</span>
                        </div>
                    </div>
                </div>

                <!-- File Info -->
                <div class="file-info-panel">
                    <h2 class="section-title">–ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –§–ê–ô–õ–ï</h2>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">–§–∞–π–ª:</span>
                            <span id="infoFilename" class="info-value">--</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–†–∞–∑–º–µ—Ä:</span>
                            <span id="infoSize" class="info-value">--</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–¢–æ—á–µ–∫:</span>
                            <span id="infoPoints" class="info-value">--</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–°–µ—Ä–∏–µ–≤:</span>
                            <span id="infoSeries" class="info-value">--</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–û–ø—Ç. –æ–∫–Ω–æ:</span>
                            <span id="infoOptWindow" class="info-value">--</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">–û–ø—Ç. –ø–æ—Ä–æ–≥:</span>
                            <span id="infoOptThreshold" class="info-value">--</span>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer class="telemetry-footer">
            <div class="footer-decoration"></div>
            <div class="footer-content">
                <span class="footer-text">–û–¢–ö-001 /// –°–ò–°–¢–ï–ú–ê –û–ß–ò–°–¢–ö–ò –î–ê–ù–ù–´–• –í–†–ï–ú–ï–ù–ù–´–• –†–Ø–î–û–í</span>
                <span class="footer-separator">|</span>
                <span class="footer-author">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: –§—É–Ω—Ç–∏–∫–æ–≤ –í.–ú.</span>
                <span class="footer-separator">|</span>
                <span class="footer-version">–í–µ—Ä—Å–∏—è: 2.0 (Web)</span>
            </div>
            <div class="footer-decoration"></div>
        </footer>
    </div>

    <!-- Fixed Progress Bar (Top) -->
    <div id="progressBar" class="progress-bar hidden">
        <div class="progress-bar-content">
            <span class="progress-label">–•–û–î –ü–†–û–¶–ï–°–°–ê</span>
            <div class="progress-track">
                <div id="progressFill" class="progress-fill"></div>
            </div>
            <span id="progressPercent" class="progress-percent">0%</span>
            <span id="progressMessage" class="progress-message"></span>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/main.js"></script>
</body>
</html>
